<!-- FileThis demo element -->

<!-- Imports -->
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../ft-user-interaction-form.html">


<!--

This element defines a number of form examples

@demo demo/index.html
 -->
<dom-module id="demo-fixture">

    <style include="iron-flex iron-flex-alignment"></style>

    <template>

        <div class="layout horizontal start center-justified"
             style="width:100%;
                    padding-left:16px; padding-right:16px;">

            <!-- Credentials -->
            <div style="background:white; padding:16px; border:1px solid #DDD;">
                <ft-user-interaction-form id="credentialsForm"></ft-user-interaction-form>
            </div>

            <!-- Spacer -->
            <div style="width:30px;"></div>

            <!-- Multiple Choice -->
            <div style="background:white; padding:16px; border:1px solid #DDD;">
                <ft-user-interaction-form id="multipleChoiceForm"></ft-user-interaction-form>
            </div>

            <!-- Spacer -->
            <div style="width:30px;"></div>

            <!-- U.S. State -->
            <div style="background:white; padding:16px; border:1px solid #DDD;">
                <ft-user-interaction-form id="_usStateForm"></ft-user-interaction-form>
            </div>

        </div>

    </template>

    <script>

        Polymer
        ({
            is: 'demo-fixture',

            ready: function()
            {
                this._loadRequestIntoForm("request-credentials.json", this.$.credentialsForm);
                this._loadRequestIntoForm("request-multiple-choice.json", this.$.multipleChoiceForm);
                this._loadRequestIntoForm("request-us-state.json", this.$._usStateForm);
            },

            _loadRequestIntoForm: function(file, form)
            {
                var xmlHttpRequest = new XMLHttpRequest();
                xmlHttpRequest.overrideMimeType("application/json");
                xmlHttpRequest.open('GET', file, true);
                xmlHttpRequest.onreadystatechange = function()
                {
                    if (xmlHttpRequest.readyState == 4 &&
                        xmlHttpRequest.status == "200")
                    {
                        var json = JSON.parse(xmlHttpRequest.responseText);
                        form.request = json;
                    }
                };
                xmlHttpRequest.send();
            }
        });

    </script>

</dom-module>

